/*globals jQuery,Modernizr,log *//*
  BigPortfolio
  Simple system for type based a one page / one project per screen portfolio

  Dependencies: jQuery, fitText, keymaster.js

  @author Uli Scöberl <uli@aplusplus.org>
  @author Marc Kremers <marckremers.com@gmail.com>
*/(function(e,t,n,r){var i=$(e),s={settings:$.extend({sectionPercentageHeight:"100",setHash:!0,headlines:{compressor:.7,minFontSize:"1em",maxFontSize:"40em"}},e.FOLIO_SETTINGS)},o=s;o.init=function(){log("Start");o.sections=$(".post");Modernizr.touch||$(".post").headstick(".caption,.inner.text > h1");o.sections.each(function(e){var t=$(this),n=$("<a/>",{href:"#"+t.attr("id"),text:e+1>10?e+1:"0"+(e+1)});n.appendTo("#quicknav")});$("nav").localScroll({axis:"y",duration:1500,easing:"easeInOutExpo"});$(".post").fitVids();i.on({resize:o.layout,scroll:o.scrollAdjust,load:function(){log("loaded");i.resize().scroll()}}).resize().scroll()};o.setActive=function(n){o.active=n;o.active.addClass("active");e.location.hash="/"+s.active.attr("id");s.startTitle||(s.startTitle=t.title);t.title=s.startTitle+" → "+s.active.find("h2").text();e.log("Set active",s.active.attr("id"))};o.scrollAdjust=function(){var e=i.scrollTop();e<i.height()*.9?$("html").removeClass("pass-header"):$("html").addClass("pass-header")};o.layout=function(){e.log("layout");var t=i.height();o.sections.each(function(){var e=$(this);log(e.height(),t);e.height()<t&&e.height(t).addClass("below-min-h")});var n=$("nav");n.css({top:(i.height()-n.height())/2})};s.show_next=function(){e.log("next…")};s.show_prev=function(){e.log("prev…")};$(s.init)})(window,document,jQuery);